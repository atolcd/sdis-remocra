<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>referencer_les_modeles_de_processus_etl</name>
    <description />
    <extended_description>Référencement des modèles de processus ETL par lecture des fichiers de métadonnées XML présents sur le serveur. Sont référéncés les modèles de processus déposés dans le sous-dossier "commun" ainsi que ceux spécifiques à chaque SDIS dans le sous-dossier "sdis"</extended_description>
    <trans_version />
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>/</directory>
    <parameters>
    </parameters>
    <log>
      <trans-log-table>
        <connection />
        <schema />
        <table />
        <size_limit_lines />
        <interval />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STATUS</id>
          <enabled>Y</enabled>
          <name>STATUS</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
          <subject />
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
          <subject />
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
          <subject />
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
          <subject />
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
          <subject />
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
          <subject />
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>STARTDATE</id>
          <enabled>Y</enabled>
          <name>STARTDATE</name>
        </field>
        <field>
          <id>ENDDATE</id>
          <enabled>Y</enabled>
          <name>ENDDATE</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>DEPDATE</id>
          <enabled>Y</enabled>
          <name>DEPDATE</name>
        </field>
        <field>
          <id>REPLAYDATE</id>
          <enabled>Y</enabled>
          <name>REPLAYDATE</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>Y</enabled>
          <name>LOG_FIELD</name>
        </field>
        <field>
          <id>EXECUTING_SERVER</id>
          <enabled>N</enabled>
          <name>EXECUTING_SERVER</name>
        </field>
        <field>
          <id>EXECUTING_USER</id>
          <enabled>N</enabled>
          <name>EXECUTING_USER</name>
        </field>
        <field>
          <id>CLIENT</id>
          <enabled>N</enabled>
          <name>CLIENT</name>
        </field>
      </trans-log-table>
      <perf-log-table>
        <connection />
        <schema />
        <table />
        <interval />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>SEQ_NR</id>
          <enabled>Y</enabled>
          <name>SEQ_NR</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>INPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>INPUT_BUFFER_ROWS</name>
        </field>
        <field>
          <id>OUTPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>OUTPUT_BUFFER_ROWS</name>
        </field>
      </perf-log-table>
      <channel-log-table>
        <connection />
        <schema />
        <table />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>LOGGING_OBJECT_TYPE</id>
          <enabled>Y</enabled>
          <name>LOGGING_OBJECT_TYPE</name>
        </field>
        <field>
          <id>OBJECT_NAME</id>
          <enabled>Y</enabled>
          <name>OBJECT_NAME</name>
        </field>
        <field>
          <id>OBJECT_COPY</id>
          <enabled>Y</enabled>
          <name>OBJECT_COPY</name>
        </field>
        <field>
          <id>REPOSITORY_DIRECTORY</id>
          <enabled>Y</enabled>
          <name>REPOSITORY_DIRECTORY</name>
        </field>
        <field>
          <id>FILENAME</id>
          <enabled>Y</enabled>
          <name>FILENAME</name>
        </field>
        <field>
          <id>OBJECT_ID</id>
          <enabled>Y</enabled>
          <name>OBJECT_ID</name>
        </field>
        <field>
          <id>OBJECT_REVISION</id>
          <enabled>Y</enabled>
          <name>OBJECT_REVISION</name>
        </field>
        <field>
          <id>PARENT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>PARENT_CHANNEL_ID</name>
        </field>
        <field>
          <id>ROOT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>ROOT_CHANNEL_ID</name>
        </field>
      </channel-log-table>
      <step-log-table>
        <connection />
        <schema />
        <table />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>N</enabled>
          <name>LOG_FIELD</name>
        </field>
      </step-log-table>
      <metrics-log-table>
        <connection />
        <schema />
        <table />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>METRICS_DATE</id>
          <enabled>Y</enabled>
          <name>METRICS_DATE</name>
        </field>
        <field>
          <id>METRICS_CODE</id>
          <enabled>Y</enabled>
          <name>METRICS_CODE</name>
        </field>
        <field>
          <id>METRICS_DESCRIPTION</id>
          <enabled>Y</enabled>
          <name>METRICS_DESCRIPTION</name>
        </field>
        <field>
          <id>METRICS_SUBJECT</id>
          <enabled>Y</enabled>
          <name>METRICS_SUBJECT</name>
        </field>
        <field>
          <id>METRICS_TYPE</id>
          <enabled>Y</enabled>
          <name>METRICS_TYPE</name>
        </field>
        <field>
          <id>METRICS_VALUE</id>
          <enabled>Y</enabled>
          <name>METRICS_VALUE</name>
        </field>
      </metrics-log-table>
    </log>
    <maxdate>
      <connection />
      <table />
      <field />
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file />
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
    <created_user>-</created_user>
    <created_date>2018/02/08 08:43:30.652</created_date>
    <modified_user>admin</modified_user>
    <modified_date>2018/03/16 11:28:22.714</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA=</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
    <notepad>
      <note>Récupération et validation des fichier XML
</note>
      <xloc>15</xloc>
      <yloc>345</yloc>
      <width>263</width>
      <heigth>41</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>165</backgroundcolorgreen>
      <backgroundcolorblue>0</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Extraction des données des fichiers valides</note>
      <xloc>720</xloc>
      <yloc>360</yloc>
      <width>270</width>
      <heigth>26</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>165</backgroundcolorgreen>
      <backgroundcolorblue>0</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Récupération et insertion des
données du modèle de processus</note>
      <xloc>1875</xloc>
      <yloc>345</yloc>
      <width>212</width>
      <heigth>42</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>165</backgroundcolorgreen>
      <backgroundcolorblue>0</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Récupération et insertion des paramètres</note>
      <xloc>1380</xloc>
      <yloc>60</yloc>
      <width>259</width>
      <heigth>26</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>165</backgroundcolorgreen>
      <backgroundcolorblue>0</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Récupération et insertions des profils de droit autorisés à exécuter le processus.</note>
      <xloc>915</xloc>
      <yloc>990</yloc>
      <width>492</width>
      <heigth>26</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>165</backgroundcolorgreen>
      <backgroundcolorblue>0</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>La modèle est-il accessible à tous les profils de droit ?</note>
      <xloc>690</xloc>
      <yloc>765</yloc>
      <width>332</width>
      <heigth>26</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>165</backgroundcolorgreen>
      <backgroundcolorblue>0</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Croisement avec tous les types de profils</note>
      <xloc>1140</xloc>
      <yloc>720</yloc>
      <width>257</width>
      <heigth>26</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>165</backgroundcolorgreen>
      <backgroundcolorblue>0</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
  </notepads>
  <connection>
    <name>Remocra</name>
    <server>${REMOCRA_POSTGIS_DATABASE_HOST}</server>
    <type>POSTGRESQL</type>
    <access>Native</access>
    <database>${REMOCRA_POSTGIS_DATABASE_NAME}</database>
    <port>${REMOCRA_POSTGIS_DATABASE_PORT}</port>
    <username>${REMOCRA_POSTGIS_DATABASE_USER_NAME}</username>
    <password>${REMOCRA_POSTGIS_DATABASE_USER_PASSWORD}</password>
    <servername />
    <data_tablespace />
    <index_tablespace />
    <attributes>
      <attribute>
        <code>EXTRA_OPTION_POSTGRESQL.stringtype</code>
        <attribute>unspecified</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>${REMOCRA_POSTGIS_DATABASE_PORT}</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <order>
    <hop>
      <from>Fichiers XML</from>
      <to>validation_xml</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>validation_xml</from>
      <to>filtre_xml_valide</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>creation_id_modele</from>
      <to>Factice</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>creation_ordre_parametres</from>
      <to>selection_champs_processus_etl_modele_parametre</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>champs_parametres</from>
      <to>extraction_parametres</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>champs_profils</from>
      <to>Valeur attribut "Tous profils"</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>selection_champs_processus_etl_modele_parametre</from>
      <to>attente remocra.processus_etl_modele (parametres)</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>selection_champs_processus_etl_modele_droit</from>
      <to>attente remocra.processus_etl_modele (profils)</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>attente remocra.processus_etl_modele (parametres)</from>
      <to>remocra.requete_modele_parametre</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>attente remocra.processus_etl_modele (profils)</from>
      <to>remocra.processus_etl_modele_droit</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>extraction_parametres</from>
      <to>creation_ordre_parametres</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>extraction_profils</from>
      <to>recherche_profils_droits</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Factice</from>
      <to>champs_parametres</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Factice</from>
      <to>champs_profils</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Tous profils ?</from>
      <to>extraction_profils</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Valeur attribut "Tous profils"</from>
      <to>Tous profils ?</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>filtre_xml_valide</from>
      <to>Fichier XML + chemin vers fichier</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>selection_champs_requete_modele</from>
      <to>remocra.processus_etl_modele</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Tous profils ?</from>
      <to>Join Rows (cartesian product)</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>selection_profil_droit</from>
      <to>Join Rows (cartesian product)</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Join Rows (cartesian product)</from>
      <to>Factice 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>recherche_profils_droits</from>
      <to>Factice 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Factice 2</from>
      <to>selection_champs_processus_etl_modele_droit</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fichier XML + chemin vers fichier</from>
      <to>extraction_modeles_processus_etl</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>extraction_modeles_processus_etl</from>
      <to>creation_id_modele</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Factice</from>
      <to>Type processus (J ou T) + nom complet fichier ETL</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Type processus (J ou T) + nom complet fichier ETL</from>
      <to>Test présence fichier ETL</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>filtre_xml_valide</from>
      <to>XML non valide</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Test présence fichier ETL</from>
      <to>Fichier ETL présent ?</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fichier ETL présent ?</from>
      <to>Fichier ETL absent</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fichier ETL présent ?</from>
      <to>selection_champs_requete_modele</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>remocra.processus_etl_modele_droit</from>
      <to>Erreur droit</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>remocra.requete_modele_parametre</from>
      <to>Erreur paramètre</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>remocra.processus_etl_modele</from>
      <to>Erreur modele</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Factice</from>
      <to>champs_planif</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>champs_planif</from>
      <to>extraction_planification</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>attente remocra.processus_etl_modele (planification)</from>
      <to>remocra.processus_etl_planification</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>objet_concerne</from>
      <to>attente remocra.processus_etl_modele (planification)</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>remocra.processus_etl_planification</from>
      <to>champs_planif_param</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>champs_planif_param</from>
      <to>extraction_parametre</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>remocra.requete_modele_parametre</from>
      <to>id_param</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>id_param</from>
      <to>remocra.processus_etl_planification_parametre</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>remocra.processus_etl_planification_parametre</from>
      <to>Erreur planif parametre</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>remocra.processus_etl_planification</from>
      <to>Erreur planif</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>extraction_parametre</from>
      <to>attente_modele_param</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>attente_modele_param</from>
      <to>id_param</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>extraction_planification</from>
      <to>planification ?</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>planification ?</from>
      <to>objet_concerne</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <step>
    <name>Erreur droit</name>
    <type>WriteToLog</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <loglevel>log_level_basic</loglevel>
    <displayHeader>N</displayHeader>
    <limitRows>N</limitRows>
    <limitRowsNumber>1</limitRowsNumber>
    <logmessage>Le droit d'accès au processus ETL n'a pas pu être inséré</logmessage>
    <fields>
      <field>
        <name>filename</name>
      </field>
      <field>
        <name>code_profil_droit</name>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2115</xloc>
      <yloc>765</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Erreur modele</name>
    <type>WriteToLog</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <loglevel>log_level_basic</loglevel>
    <displayHeader>N</displayHeader>
    <limitRows>N</limitRows>
    <limitRowsNumber>1</limitRowsNumber>
    <logmessage>Le modèle de processus ETL n'a pas pu être inséré</logmessage>
    <fields>
      <field>
        <name>filename</name>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2040</xloc>
      <yloc>540</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Erreur paramètre</name>
    <type>WriteToLog</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <loglevel>log_level_basic</loglevel>
    <displayHeader>N</displayHeader>
    <limitRows>Y</limitRows>
    <limitRowsNumber>1</limitRowsNumber>
    <logmessage>Le paramètre de configuration du processus ETL n'a pas pu être inséré</logmessage>
    <fields>
      <field>
        <name>filename</name>
      </field>
      <field>
        <name>nom</name>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2040</xloc>
      <yloc>30</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Factice</name>
    <type>Dummy</type>
    <description />
    <distribute>N</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1050</xloc>
      <yloc>420</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Factice 2</name>
    <type>Dummy</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1425</xloc>
      <yloc>885</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fichier ETL absent</name>
    <type>WriteToLog</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <loglevel>log_level_basic</loglevel>
    <displayHeader>N</displayHeader>
    <limitRows>N</limitRows>
    <limitRowsNumber>1</limitRowsNumber>
    <logmessage>Fichier du processus ETL absent</logmessage>
    <fields>
      <field>
        <name>filename</name>
      </field>
      <field>
        <name>processus_etl_fichier</name>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1620</xloc>
      <yloc>540</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fichier ETL présent ?</name>
    <type>FilterRows</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <send_true_to>selection_champs_requete_modele</send_true_to>
    <send_false_to>Fichier ETL absent</send_false_to>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>processus_etl_present</leftvalue>
        <function>=</function>
        <rightvalue />
        <value>
          <name>constant</name>
          <type>Boolean</type>
          <text>Y</text>
          <length>-1</length>
          <precision>-1</precision>
          <isnull>N</isnull>
          <mask />
        </value>
      </condition>
    </compare>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1620</xloc>
      <yloc>420</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fichier XML + chemin vers fichier</name>
    <type>SelectValues</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <fields>
      <field>
        <name>filename</name>
      </field>
      <field>
        <name>path</name>
        <rename>processus_etl_chemin</rename>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>600</xloc>
      <yloc>420</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fichiers XML</name>
    <type>GetFileNames</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <filter>
      <filterfiletype>all_files</filterfiletype>
    </filter>
    <doNotFailIfNoFile>Y</doNotFailIfNoFile>
    <rownum>N</rownum>
    <isaddresult>N</isaddresult>
    <filefield>N</filefield>
    <rownum_field />
    <filename_Field />
    <wildcard_Field />
    <exclude_wildcard_Field />
    <dynamic_include_subfolders>N</dynamic_include_subfolders>
    <limit>0</limit>
    <file>
      <name>${PDI_CHEMIN_MODELES}/processus_etl/commun/</name>
      <filemask>.*xml|.*XML</filemask>
      <exclude_filemask />
      <file_required>N</file_required>
      <include_subfolders>Y</include_subfolders>
      <name>${PDI_CHEMIN_MODELES}/processus_etl/sdis/${PDI_CODE_SDIS}/</name>
      <filemask>.*xml|.*XML</filemask>
      <exclude_filemask />
      <file_required>N</file_required>
      <include_subfolders>Y</include_subfolders>
    </file>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>120</xloc>
      <yloc>420</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Join Rows (cartesian product)</name>
    <type>JoinRows</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>out</prefix>
    <cache_size>500</cache_size>
    <main />
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue />
        <function>=</function>
        <rightvalue />
      </condition>
    </compare>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1410</xloc>
      <yloc>765</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Test présence fichier ETL</name>
    <type>FileExists</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <filenamefield>processus_etl_fichier_complet</filenamefield>
    <resultfieldname>processus_etl_present</resultfieldname>
    <includefiletype>N</includefiletype>
    <filetypefieldname />
    <addresultfilenames>N</addresultfilenames>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1470</xloc>
      <yloc>420</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Tous profils ?</name>
    <type>FilterRows</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <send_true_to>Join Rows (cartesian product)</send_true_to>
    <send_false_to>extraction_profils</send_false_to>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>tousProfils</leftvalue>
        <function>=</function>
        <rightvalue />
        <value>
          <name>constant</name>
          <type>Boolean</type>
          <text>Y</text>
          <length>-1</length>
          <precision>-1</precision>
          <isnull>N</isnull>
          <mask />
        </value>
      </condition>
    </compare>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1050</xloc>
      <yloc>765</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Type processus (J ou T) + nom complet fichier ETL</name>
    <type>Janino</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <formula>
      <field_name>processus_etl_type</field_name>
      <formula_string>processus_etl_fichier.substring(processus_etl_fichier.lastIndexOf(".") +2,processus_etl_fichier.length()-1).toUpperCase()</formula_string>
      <value_type>String</value_type>
      <value_length>-1</value_length>
      <value_precision>-1</value_precision>
      <replace_field />
    </formula>
    <formula>
      <field_name>processus_etl_fichier_complet</field_name>
      <formula_string>processus_etl_chemin + "/" + processus_etl_fichier</formula_string>
      <value_type>String</value_type>
      <value_length>-1</value_length>
      <value_precision>-1</value_precision>
      <replace_field />
    </formula>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1245</xloc>
      <yloc>420</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Valeur attribut "Tous profils"</name>
    <type>getXMLData</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <include>N</include>
    <include_field />
    <rownum>N</rownum>
    <addresultfile>N</addresultfile>
    <namespaceaware>N</namespaceaware>
    <ignorecomments>N</ignorecomments>
    <readurl>N</readurl>
    <validating>N</validating>
    <usetoken>N</usetoken>
    <IsIgnoreEmptyFile>N</IsIgnoreEmptyFile>
    <doNotFailIfNoFile>Y</doNotFailIfNoFile>
    <rownum_field />
    <encoding>UTF-8</encoding>
    <file>
      <name />
      <filemask />
      <exclude_filemask />
      <file_required>N</file_required>
      <include_subfolders>N</include_subfolders>
    </file>
    <fields>
      <field>
        <name>tousProfils</name>
        <xpath>@tousProfils</xpath>
        <element_type>attribut</element_type>
        <result_type>valueof</result_type>
        <type>Boolean</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <loopxpath>/profils</loopxpath>
    <IsInFields>Y</IsInFields>
    <IsAFile>N</IsAFile>
    <XmlField>profils</XmlField>
    <prunePath />
    <shortFileFieldName />
    <pathFieldName />
    <hiddenFieldName />
    <lastModificationTimeFieldName />
    <uriNameFieldName />
    <rootUriNameFieldName />
    <extensionFieldName />
    <sizeFieldName />
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1050</xloc>
      <yloc>660</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>XML non valide</name>
    <type>WriteToLog</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <loglevel>log_level_basic</loglevel>
    <displayHeader>N</displayHeader>
    <limitRows>N</limitRows>
    <limitRowsNumber>1</limitRowsNumber>
    <logmessage>Fichier XML de métadonnée du processus ETL non valide</logmessage>
    <fields>
      <field>
        <name>filename</name>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>450</xloc>
      <yloc>585</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>attente remocra.processus_etl_modele (parametres)</name>
    <type>BlockUntilStepsFinish</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <steps>
      <step>
        <name>remocra.processus_etl_modele</name>
        <CopyNr>0</CopyNr>
      </step>
    </steps>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1770</xloc>
      <yloc>120</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>attente remocra.processus_etl_modele (profils)</name>
    <type>BlockUntilStepsFinish</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <steps>
      <step>
        <name>remocra.processus_etl_modele</name>
        <CopyNr>0</CopyNr>
      </step>
    </steps>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1875</xloc>
      <yloc>885</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>champs_parametres</name>
    <type>SelectValues</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <fields>
      <field>
        <name>modele_id</name>
      </field>
      <field>
        <name>parametres</name>
      </field>
      <field>
        <name>filename</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1050</xloc>
      <yloc>270</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>champs_profils</name>
    <type>SelectValues</type>
    <description />
    <distribute>N</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <fields>
      <field>
        <name>modele_id</name>
      </field>
      <field>
        <name>profils</name>
      </field>
      <field>
        <name>filename</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1050</xloc>
      <yloc>540</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>creation_id_modele</name>
    <type>Sequence</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <valuename>modele_id</valuename>
    <use_database>N</use_database>
    <connection />
    <schema />
    <seqname>SEQ_</seqname>
    <use_counter>Y</use_counter>
    <counter_name />
    <start_at>1</start_at>
    <increment_by>1</increment_by>
    <max_value>999999999</max_value>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>945</xloc>
      <yloc>420</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>creation_ordre_parametres</name>
    <type>FieldsChangeSequence</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <start>1</start>
    <increment>1</increment>
    <resultfieldName>num_ordre</resultfieldName>
    <fields>
      <field>
        <name>modele_id</name>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1215</xloc>
      <yloc>120</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>extraction_modeles_processus_etl</name>
    <type>getXMLData</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <include>N</include>
    <include_field />
    <rownum>N</rownum>
    <addresultfile>N</addresultfile>
    <namespaceaware>N</namespaceaware>
    <ignorecomments>N</ignorecomments>
    <readurl>N</readurl>
    <validating>N</validating>
    <usetoken>N</usetoken>
    <IsIgnoreEmptyFile>N</IsIgnoreEmptyFile>
    <doNotFailIfNoFile>Y</doNotFailIfNoFile>
    <rownum_field />
    <encoding>UTF-8</encoding>
    <file>
      <name />
      <filemask />
      <exclude_filemask />
      <file_required>N</file_required>
      <include_subfolders>N</include_subfolders>
    </file>
    <fields>
      <field>
        <name>categorie</name>
        <xpath>categorie</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>code</name>
        <xpath>code</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>libelle</name>
        <xpath>libelle</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>description</name>
        <xpath>description</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>processus_etl_fichier</name>
        <xpath>fichier</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>priorite</name>
        <xpath>priorite</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>Integer</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>messageSuccesObjet</name>
        <xpath>messageSucces/objet</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>messageSuccesCorps</name>
        <xpath>messageSucces/corps</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>messageEchecObjet</name>
        <xpath>messageEchec/objet</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>messageEchecCorps</name>
        <xpath>messageEchec/corps</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>parametres</name>
        <xpath>parametres</xpath>
        <element_type>node</element_type>
        <result_type>singlenode</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>profils</name>
        <xpath>profils</xpath>
        <element_type>node</element_type>
        <result_type>singlenode</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>planification</name>
        <xpath>planification</xpath>
        <element_type>node</element_type>
        <result_type>singlenode</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <loopxpath>/modele</loopxpath>
    <IsInFields>Y</IsInFields>
    <IsAFile>Y</IsAFile>
    <XmlField>filename</XmlField>
    <prunePath />
    <shortFileFieldName />
    <pathFieldName />
    <hiddenFieldName />
    <lastModificationTimeFieldName />
    <uriNameFieldName />
    <rootUriNameFieldName />
    <extensionFieldName />
    <sizeFieldName />
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>795</xloc>
      <yloc>420</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>extraction_parametres</name>
    <type>getXMLData</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <include>N</include>
    <include_field />
    <rownum>N</rownum>
    <addresultfile>N</addresultfile>
    <namespaceaware>N</namespaceaware>
    <ignorecomments>N</ignorecomments>
    <readurl>N</readurl>
    <validating>N</validating>
    <usetoken>N</usetoken>
    <IsIgnoreEmptyFile>N</IsIgnoreEmptyFile>
    <doNotFailIfNoFile>Y</doNotFailIfNoFile>
    <rownum_field />
    <encoding>UTF-8</encoding>
    <file>
      <name />
      <filemask />
      <exclude_filemask />
      <file_required>N</file_required>
      <include_subfolders>N</include_subfolders>
    </file>
    <fields>
      <field>
        <name>nom</name>
        <xpath>nom</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>type_valeur</name>
        <xpath>typeValeur</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>obligatoire</name>
        <xpath>obligatoire</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>Boolean</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>source_sql</name>
        <xpath>sourceSQL</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>both</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>formulaire_etiquette</name>
        <xpath>formulaire/@etiquette</xpath>
        <element_type>attribut</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>formulaire_type_controle</name>
        <xpath>formulaire/@typeControle</xpath>
        <element_type>attribut</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>formulaire_valeur_defaut</name>
        <xpath>formulaire/@valeurDefaut</xpath>
        <element_type>attribut</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>source_sql_valeur</name>
        <xpath>sourceSQL/@champValeur</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>source_sql_libelle</name>
        <xpath>sourceSQL/@champLibelle</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <loopxpath>/parametres/parametre</loopxpath>
    <IsInFields>Y</IsInFields>
    <IsAFile>N</IsAFile>
    <XmlField>parametres</XmlField>
    <prunePath />
    <shortFileFieldName />
    <pathFieldName />
    <hiddenFieldName />
    <lastModificationTimeFieldName />
    <uriNameFieldName />
    <rootUriNameFieldName />
    <extensionFieldName />
    <sizeFieldName />
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1050</xloc>
      <yloc>120</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>extraction_profils</name>
    <type>getXMLData</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <include>N</include>
    <include_field />
    <rownum>N</rownum>
    <addresultfile>N</addresultfile>
    <namespaceaware>N</namespaceaware>
    <ignorecomments>N</ignorecomments>
    <readurl>N</readurl>
    <validating>N</validating>
    <usetoken>N</usetoken>
    <IsIgnoreEmptyFile>N</IsIgnoreEmptyFile>
    <doNotFailIfNoFile>Y</doNotFailIfNoFile>
    <rownum_field />
    <encoding>UTF-8</encoding>
    <file>
      <name />
      <filemask />
      <exclude_filemask />
      <file_required>N</file_required>
      <include_subfolders>N</include_subfolders>
    </file>
    <fields>
      <field>
        <name>code_profil_droit</name>
        <xpath>.</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <loopxpath>/profils/profil</loopxpath>
    <IsInFields>Y</IsInFields>
    <IsAFile>N</IsAFile>
    <XmlField>profils</XmlField>
    <prunePath />
    <shortFileFieldName />
    <pathFieldName />
    <hiddenFieldName />
    <lastModificationTimeFieldName />
    <uriNameFieldName />
    <rootUriNameFieldName />
    <extensionFieldName />
    <sizeFieldName />
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1050</xloc>
      <yloc>885</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>filtre_xml_valide</name>
    <type>FilterRows</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <send_true_to>Fichier XML + chemin vers fichier</send_true_to>
    <send_false_to>XML non valide</send_false_to>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>valide</leftvalue>
        <function>=</function>
        <rightvalue />
        <value>
          <name>constant</name>
          <type>Boolean</type>
          <text>Y</text>
          <length>-1</length>
          <precision>-1</precision>
          <isnull>N</isnull>
          <mask />
        </value>
      </condition>
    </compare>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>450</xloc>
      <yloc>420</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>recherche_profils_droits</name>
    <type>DBLookup</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>Remocra</connection>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>remocra</schema>
      <table>profil_droit</table>
      <orderby />
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>Y</eat_row_on_failure>
      <key>
        <name>code_profil_droit</name>
        <field>code</field>
        <condition>=</condition>
        <name2 />
      </key>
      <value>
        <name>id</name>
        <rename>code_profil_droit_id</rename>
        <default />
        <type>Integer</type>
      </value>
    </lookup>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1245</xloc>
      <yloc>885</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>remocra.processus_etl_modele</name>
    <type>TableOutput</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>Remocra</connection>
    <schema>remocra</schema>
    <table>processus_etl_modele</table>
    <commit>1000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>N</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field />
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field />
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field />
    <fields>
      <field>
        <column_name>libelle</column_name>
        <stream_name>libelle</stream_name>
      </field>
      <field>
        <column_name>description</column_name>
        <stream_name>description</stream_name>
      </field>
      <field>
        <column_name>code</column_name>
        <stream_name>code</stream_name>
      </field>
      <field>
        <column_name>categorie</column_name>
        <stream_name>categorie</stream_name>
      </field>
      <field>
        <column_name>id</column_name>
        <stream_name>modele_id</stream_name>
      </field>
      <field>
        <column_name>message_succes_objet</column_name>
        <stream_name>messageSuccesObjet</stream_name>
      </field>
      <field>
        <column_name>message_succes_corps</column_name>
        <stream_name>messageSuccesCorps</stream_name>
      </field>
      <field>
        <column_name>message_echec_objet</column_name>
        <stream_name>messageEchecObjet</stream_name>
      </field>
      <field>
        <column_name>message_echec_corps</column_name>
        <stream_name>messageEchecCorps</stream_name>
      </field>
      <field>
        <column_name>priorite</column_name>
        <stream_name>priorite</stream_name>
      </field>
      <field>
        <column_name>pdi_type</column_name>
        <stream_name>processus_etl_type</stream_name>
      </field>
      <field>
        <column_name>pdi_chemin</column_name>
        <stream_name>processus_etl_chemin</stream_name>
      </field>
      <field>
        <column_name>pdi_nom</column_name>
        <stream_name>processus_etl_fichier</stream_name>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2040</xloc>
      <yloc>420</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>remocra.processus_etl_modele_droit</name>
    <type>TableOutput</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>Remocra</connection>
    <schema>remocra</schema>
    <table>processus_etl_modele_droit</table>
    <commit>1000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>N</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field />
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field />
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field />
    <fields>
      <field>
        <column_name>modele</column_name>
        <stream_name>modele_id</stream_name>
      </field>
      <field>
        <column_name>profil_droit</column_name>
        <stream_name>code_profil_droit_id</stream_name>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2115</xloc>
      <yloc>885</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>remocra.requete_modele_parametre</name>
    <type>TableOutput</type>
    <description />
    <distribute>N</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>Remocra</connection>
    <schema>remocra</schema>
    <table>processus_etl_modele_parametre</table>
    <commit>1000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>N</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field />
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field />
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>Y</return_keys>
    <return_field>id_param</return_field>
    <fields>
      <field>
        <column_name>nom</column_name>
        <stream_name>nom</stream_name>
      </field>
      <field>
        <column_name>obligatoire</column_name>
        <stream_name>obligatoire</stream_name>
      </field>
      <field>
        <column_name>formulaire_etiquette</column_name>
        <stream_name>formulaire_etiquette</stream_name>
      </field>
      <field>
        <column_name>formulaire_type_controle</column_name>
        <stream_name>formulaire_type_controle</stream_name>
      </field>
      <field>
        <column_name>formulaire_num_ordre</column_name>
        <stream_name>formulaire_num_ordre</stream_name>
      </field>
      <field>
        <column_name>formulaire_valeur_defaut</column_name>
        <stream_name>formulaire_valeur_defaut</stream_name>
      </field>
      <field>
        <column_name>source_sql</column_name>
        <stream_name>source_sql</stream_name>
      </field>
      <field>
        <column_name>type_valeur</column_name>
        <stream_name>type_valeur</stream_name>
      </field>
      <field>
        <column_name>source_sql_valeur</column_name>
        <stream_name>source_sql_valeur</stream_name>
      </field>
      <field>
        <column_name>source_sql_libelle</column_name>
        <stream_name>source_sql_libelle</stream_name>
      </field>
      <field>
        <column_name>modele</column_name>
        <stream_name>modele_id</stream_name>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2040</xloc>
      <yloc>120</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>selection_champs_processus_etl_modele_droit</name>
    <type>SelectValues</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <fields>
      <field>
        <name>modele_id</name>
      </field>
      <field>
        <name>code_profil_droit_id</name>
      </field>
      <field>
        <name>code_profil_droit</name>
      </field>
      <field>
        <name>filename</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1590</xloc>
      <yloc>885</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>selection_champs_processus_etl_modele_parametre</name>
    <type>SelectValues</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <fields>
      <field>
        <name>modele_id</name>
      </field>
      <field>
        <name>nom</name>
      </field>
      <field>
        <name>type_valeur</name>
      </field>
      <field>
        <name>obligatoire</name>
      </field>
      <field>
        <name>source_sql</name>
      </field>
      <field>
        <name>source_sql_valeur</name>
      </field>
      <field>
        <name>source_sql_libelle</name>
      </field>
      <field>
        <name>formulaire_etiquette</name>
      </field>
      <field>
        <name>formulaire_type_controle</name>
      </field>
      <field>
        <name>formulaire_valeur_defaut</name>
      </field>
      <field>
        <name>num_ordre</name>
        <rename>formulaire_num_ordre</rename>
      </field>
      <field>
        <name>filename</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1470</xloc>
      <yloc>120</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>selection_champs_requete_modele</name>
    <type>SelectValues</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <fields>
      <field>
        <name>modele_id</name>
      </field>
      <field>
        <name>categorie</name>
      </field>
      <field>
        <name>code</name>
      </field>
      <field>
        <name>libelle</name>
      </field>
      <field>
        <name>description</name>
      </field>
      <field>
        <name>processus_etl_type</name>
      </field>
      <field>
        <name>processus_etl_chemin</name>
      </field>
      <field>
        <name>processus_etl_fichier</name>
      </field>
      <field>
        <name>priorite</name>
      </field>
      <field>
        <name>messageSuccesObjet</name>
      </field>
      <field>
        <name>messageSuccesCorps</name>
      </field>
      <field>
        <name>messageEchecObjet</name>
      </field>
      <field>
        <name>messageEchecCorps</name>
      </field>
      <field>
        <name>filename</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1800</xloc>
      <yloc>420</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>selection_profil_droit</name>
    <type>TableInput</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>Remocra</connection>
    <sql>SELECT 'TOUS PROFILS' AS code_profil_droit, id AS code_profil_droit_id FROM remocra.profil_droit</sql>
    <limit>0</limit>
    <lookup />
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1410</xloc>
      <yloc>645</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>validation_xml</name>
    <type>XSDValidator</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <xdsfilename>${PDI_CHEMIN_MODELES}/xsd/modeleProcessusETL.xsd</xdsfilename>
    <xmlstream>filename</xmlstream>
    <resultfieldname>valide</resultfieldname>
    <addvalidationmsg>N</addvalidationmsg>
    <validationmsgfield>ValidationMsgField</validationmsgfield>
    <ifxmlunvalid />
    <ifxmlvalid />
    <outputstringfield>N</outputstringfield>
    <xmlsourcefile>Y</xmlsourcefile>
    <xsddefinedfield />
    <xsdsource>filename</xsdsource>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>270</xloc>
      <yloc>420</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>champs_planif</name>
    <type>SelectValues</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <fields>
      <field>
        <name>filename</name>
        <rename />
      </field>
      <field>
        <name>modele_id</name>
        <rename />
      </field>
      <field>
        <name>planification</name>
        <rename />
      </field>
      <field>
        <name>categorie</name>
        <rename />
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1200</xloc>
      <yloc>270</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>extraction_planification</name>
    <type>getXMLData</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <include>N</include>
    <include_field />
    <rownum>N</rownum>
    <addresultfile>N</addresultfile>
    <namespaceaware>N</namespaceaware>
    <ignorecomments>N</ignorecomments>
    <readurl>N</readurl>
    <validating>N</validating>
    <usetoken>N</usetoken>
    <IsIgnoreEmptyFile>N</IsIgnoreEmptyFile>
    <doNotFailIfNoFile>Y</doNotFailIfNoFile>
    <rownum_field />
    <encoding>UTF-8</encoding>
    <file>
      <name />
      <filemask />
      <exclude_filemask />
      <file_required>N</file_required>
      <include_subfolders>N</include_subfolders>
    </file>
    <fields>
      <field>
        <name>expression</name>
        <xpath>@expression</xpath>
        <element_type>attribut</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>parametres</name>
        <xpath>parametres</xpath>
        <element_type>node</element_type>
        <result_type>singlenode</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <loopxpath>/planification</loopxpath>
    <IsInFields>Y</IsInFields>
    <IsAFile>N</IsAFile>
    <XmlField>planification</XmlField>
    <prunePath />
    <shortFileFieldName />
    <pathFieldName />
    <hiddenFieldName />
    <lastModificationTimeFieldName />
    <uriNameFieldName />
    <rootUriNameFieldName />
    <extensionFieldName />
    <sizeFieldName />
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1350</xloc>
      <yloc>270</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>attente remocra.processus_etl_modele (planification)</name>
    <type>BlockUntilStepsFinish</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <steps>
      <step>
        <name>remocra.processus_etl_modele</name>
        <CopyNr>0</CopyNr>
      </step>
    </steps>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1785</xloc>
      <yloc>270</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>remocra.processus_etl_planification</name>
    <type>TableOutput</type>
    <description />
    <distribute>N</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>Remocra</connection>
    <schema>remocra</schema>
    <table>processus_etl_planification</table>
    <commit>1000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>N</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field />
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field />
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>Y</return_keys>
    <return_field>id_planif</return_field>
    <fields>
      <field>
        <column_name>modele</column_name>
        <stream_name>modele_id</stream_name>
      </field>
      <field>
        <column_name>expression</column_name>
        <stream_name>expression</stream_name>
      </field>
      <field>
        <column_name>categorie</column_name>
        <stream_name>categorie</stream_name>
      </field>
      <field>
        <column_name>objet_concerne</column_name>
        <stream_name>objet_concerne</stream_name>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1965</xloc>
      <yloc>270</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>objet_concerne</name>
    <type>Constant</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <fields>
      <field>
        <name>objet_concerne</name>
        <type>BigNumber</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif>-1</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1620</xloc>
      <yloc>270</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>extraction_parametre</name>
    <type>getXMLData</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <include>N</include>
    <include_field />
    <rownum>N</rownum>
    <addresultfile>N</addresultfile>
    <namespaceaware>N</namespaceaware>
    <ignorecomments>N</ignorecomments>
    <readurl>N</readurl>
    <validating>N</validating>
    <usetoken>N</usetoken>
    <IsIgnoreEmptyFile>N</IsIgnoreEmptyFile>
    <doNotFailIfNoFile>Y</doNotFailIfNoFile>
    <rownum_field />
    <encoding>UTF-8</encoding>
    <file>
      <name />
      <filemask />
      <exclude_filemask />
      <file_required>N</file_required>
      <include_subfolders>N</include_subfolders>
    </file>
    <fields>
      <field>
        <name>code_param</name>
        <xpath>@nom</xpath>
        <element_type>attribut</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>valeur_param</name>
        <xpath>.</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <loopxpath>/parametres/parametre</loopxpath>
    <IsInFields>Y</IsInFields>
    <IsAFile>N</IsAFile>
    <XmlField>parametres</XmlField>
    <prunePath />
    <shortFileFieldName />
    <pathFieldName />
    <hiddenFieldName />
    <lastModificationTimeFieldName />
    <uriNameFieldName />
    <rootUriNameFieldName />
    <extensionFieldName />
    <sizeFieldName />
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2280</xloc>
      <yloc>270</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>champs_planif_param</name>
    <type>SelectValues</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <fields>
      <field>
        <name>modele_id</name>
        <rename />
      </field>
      <field>
        <name>parametres</name>
        <rename />
      </field>
      <field>
        <name>id_planif</name>
        <rename />
      </field>
      <field>
        <name>filename</name>
        <rename />
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2145</xloc>
      <yloc>270</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>id_param</name>
    <type>StreamLookup</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <from>remocra.requete_modele_parametre</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>N</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>code_param</name>
        <field>nom</field>
      </key>
      <value>
        <name>id_param</name>
        <rename>id_param</rename>
        <default />
        <type>None</type>
      </value>
    </lookup>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2535</xloc>
      <yloc>270</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>remocra.processus_etl_planification_parametre</name>
    <type>TableOutput</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>Remocra</connection>
    <schema>remocra</schema>
    <table>processus_etl_planification_parametre</table>
    <commit>1000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field />
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field />
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field />
    <fields>
      <field>
        <column_name>parametre</column_name>
        <stream_name>id_param</stream_name>
      </field>
      <field>
        <column_name>valeur</column_name>
        <stream_name>valeur_param</stream_name>
      </field>
      <field>
        <column_name>processus_etl_planification</column_name>
        <stream_name>id_planif</stream_name>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2535</xloc>
      <yloc>390</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Erreur planif parametre</name>
    <type>WriteToLog</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <loglevel>log_level_basic</loglevel>
    <displayHeader>Y</displayHeader>
    <limitRows>N</limitRows>
    <limitRowsNumber>0</limitRowsNumber>
    <logmessage>Le param de planification de processus ETL n'a pas pu être inséré</logmessage>
    <fields>
      </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2535</xloc>
      <yloc>495</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Erreur planif</name>
    <type>WriteToLog</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <loglevel>log_level_basic</loglevel>
    <displayHeader>Y</displayHeader>
    <limitRows>N</limitRows>
    <limitRowsNumber>0</limitRowsNumber>
    <logmessage>La planification de processus ETL n'a pas pu être inséré</logmessage>
    <fields>
      <field>
        <name>filename</name>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2055</xloc>
      <yloc>195</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>attente_modele_param</name>
    <type>BlockUntilStepsFinish</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <steps>
      <step>
        <name>remocra.requete_modele_parametre</name>
        <CopyNr>0</CopyNr>
      </step>
    </steps>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2430</xloc>
      <yloc>270</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>planification ?</name>
    <type>FilterRows</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <send_true_to>objet_concerne</send_true_to>
    <send_false_to />
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>planification</leftvalue>
        <function>&lt;></function>
        <rightvalue />
        <value>
          <name>constant</name>
          <type>String</type>
          <text>&lt;planification/></text>
          <length>-1</length>
          <precision>-1</precision>
          <isnull>N</isnull>
          <mask />
        </value>
      </condition>
    </compare>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1485</xloc>
      <yloc>270</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step_error_handling>
    <error>
      <source_step>remocra.processus_etl_modele</source_step>
      <target_step>Erreur modele</target_step>
      <is_enabled>Y</is_enabled>
      <nr_valuename />
      <descriptions_valuename />
      <fields_valuename />
      <codes_valuename />
      <max_errors />
      <max_pct_errors />
      <min_pct_rows />
    </error>
    <error>
      <source_step>remocra.processus_etl_modele_droit</source_step>
      <target_step>Erreur droit</target_step>
      <is_enabled>Y</is_enabled>
      <nr_valuename />
      <descriptions_valuename />
      <fields_valuename />
      <codes_valuename />
      <max_errors />
      <max_pct_errors />
      <min_pct_rows />
    </error>
    <error>
      <source_step>remocra.requete_modele_parametre</source_step>
      <target_step>Erreur paramètre</target_step>
      <is_enabled>Y</is_enabled>
      <nr_valuename />
      <descriptions_valuename />
      <fields_valuename />
      <codes_valuename />
      <max_errors />
      <max_pct_errors />
      <min_pct_rows />
    </error>
    <error>
      <source_step>validation_xml</source_step>
      <target_step />
      <is_enabled>Y</is_enabled>
      <nr_valuename />
      <descriptions_valuename />
      <fields_valuename />
      <codes_valuename />
      <max_errors />
      <max_pct_errors />
      <min_pct_rows />
    </error>
    <error>
      <source_step>remocra.processus_etl_planification</source_step>
      <target_step>Erreur planif</target_step>
      <is_enabled>Y</is_enabled>
      <nr_valuename />
      <descriptions_valuename />
      <fields_valuename />
      <codes_valuename />
      <max_errors />
      <max_pct_errors />
      <min_pct_rows />
    </error>
    <error>
      <source_step>remocra.processus_etl_planification_parametre</source_step>
      <target_step>Erreur planif parametre</target_step>
      <is_enabled>Y</is_enabled>
      <nr_valuename />
      <descriptions_valuename />
      <fields_valuename />
      <codes_valuename />
      <max_errors />
      <max_pct_errors />
      <min_pct_rows />
    </error>
  </step_error_handling>
  <slave-step-copy-partition-distribution>
  </slave-step-copy-partition-distribution>
  <slave_transformation>N</slave_transformation>
</transformation>
